import{K as e,L as c}from"./index-Dcx7StCk.js";const n={getPersonas(r={}){return e.get("/agenda/personas",{params:r})},searchPersonas(r){return e.get("/agenda/personas/search",{params:{q:r}})},getPersona(r){return e.get(`/agenda/personas/${r}`)},createPersona(r){return e.post("/agenda/personas",r)},updatePersona(r,a){return e.put(`/agenda/personas/${r}`,a)}},p=c("agenda",{state:()=>({personas:[],loading:!1,error:null}),actions:{async fetchPersonas(r={}){this.loading=!0;try{const a=await n.getPersonas(r);this.personas=a.data}catch(a){this.error=a,console.error("Error fetching personas:",a)}finally{this.loading=!1}},async searchPersonas(r){this.loading=!0;try{const a=await n.searchPersonas(r);this.personas=a.data}catch(a){this.error=a,console.error("Error searching personas:",a)}finally{this.loading=!1}},async createPersona(r){try{const a=await n.createPersona(r);return this.personas.push(a.data),a.data}catch(a){throw a}},async updatePersona(r,a){try{const s=await n.updatePersona(r,a),t=this.personas.findIndex(o=>o.id===r);return t!==-1&&Object.assign(this.personas[t],s.data),s.data}catch(s){throw s}}}});export{p as u};
