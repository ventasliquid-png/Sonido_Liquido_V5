import{r as m,m as O,c as d,k as r,b as e,e as C,i as h,v as k,t as u,n as S,d as g,F as A,g as z,h as D,y as ie,z as re,l as de,o as ce,w as ue,B as Q,j as ke,a as Ce,C as $e,p as Se,q as R,s as X,x as Ie,D as Y,E as Ee,G as De,S as Ne,H as Te,I as Ve,J as Ae}from"./index-Dcx7StCk.js";import{u as Le}from"./agenda-DASfgFQx.js";const je={class:"p-6 h-full flex flex-col bg-[#0a1f2e]"},Ue={class:"flex justify-between items-center mb-6 shrink-0"},ze={class:"flex gap-2"},Oe={class:"bg-white/5 p-3 rounded-lg mb-4 flex justify-between items-center gap-4 border border-white/10 shrink-0"},Pe={class:"flex items-center gap-4 flex-1"},Me={class:"relative flex-1 max-w-md"},Fe={class:"text-xs text-white/40 font-mono"},Re={class:"flex bg-black/20 p-1 rounded-md border border-white/10"},Be={class:"bg-white/5 rounded-lg border border-white/10 flex-1 overflow-hidden flex flex-col"},Ge={class:"overflow-y-auto flex-1 scrollbar-thin scrollbar-thumb-white/10"},He={class:"min-w-full divide-y divide-white/10"},qe={class:"divide-y divide-white/5"},Ke={key:0},Je=["onClick"],We={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-white"},Xe={key:0,class:"text-white/50 font-normal ml-1"},Ye={class:"px-6 py-4 whitespace-nowrap text-sm text-white/70"},Qe={class:"px-6 py-4 whitespace-nowrap"},Ze={key:0,class:"px-2 py-0.5 inline-flex text-[10px] leading-5 font-bold rounded-full border bg-purple-500/10 text-purple-400 border-purple-500/20"},et={key:1,class:"px-2 py-0.5 inline-flex text-[10px] leading-5 font-bold rounded-full border bg-gray-700/50 text-gray-400 border-gray-600"},tt={class:"px-6 py-4 whitespace-nowrap text-white/70"},ot=["title"],lt={key:0,class:"fa-solid fa-store text-cyan-400"},st={key:1,class:"fa-solid fa-truck text-amber-400"},nt={key:2,class:"fa-solid fa-motorcycle text-blue-400"},at={key:3,class:"fa-solid fa-laptop text-purple-400"},it={class:"text-xs font-medium"},rt={key:1,class:"text-white/20 text-xs"},dt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ut=["onClick"],pt=["onClick"],bt={__name:"DomicilioList",props:{domicilios:{type:Array,default:()=>[]}},emits:["close","create","edit","delete"],setup(P,{emit:L}){const y=P,c=m(""),w=m("todos"),x=p=>p?p.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"",I=O(()=>{let p=y.domicilios;if(w.value==="activos"&&(p=p.filter(n=>n.activo)),w.value==="inactivos"&&(p=p.filter(n=>!n.activo)),c.value){const n=x(c.value);p=p.filter(a=>x(a.calle).includes(n)||x(a.localidad).includes(n))}return p.sort((n,a)=>n.es_fiscal&&!a.es_fiscal?-1:!n.es_fiscal&&a.es_fiscal?1:(n.alias||n.calle||"").localeCompare(a.alias||a.calle||"")),p});return(p,n)=>(r(),d("div",je,[e("div",Ue,[n[7]||(n[7]=e("h1",{class:"text-2xl font-bold text-white font-outfit"},"Administrar Domicilios",-1)),e("div",ze,[e("button",{onClick:n[0]||(n[0]=a=>p.$emit("close")),class:"px-4 py-2 text-white/50 hover:text-white transition-colors"}," Volver "),e("button",{onClick:n[1]||(n[1]=a=>p.$emit("create")),class:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-bold shadow-lg shadow-cyan-900/20 transition-all"},[...n[6]||(n[6]=[e("i",{class:"fa-solid fa-plus"},null,-1),C(" NUEVO DOMICILIO ",-1)])])])]),e("div",Oe,[e("div",Pe,[e("div",Me,[n[8]||(n[8]=e("i",{class:"fa-solid fa-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-white/30"},null,-1)),h(e("input",{"onUpdate:modelValue":n[2]||(n[2]=a=>c.value=a),type:"text",placeholder:"Buscar por calle, localidad...",class:"w-full bg-black/20 border border-white/10 rounded-lg pl-10 pr-4 py-1.5 text-sm text-white focus:outline-none focus:border-cyan-400 transition-colors"},null,512),[[k,c.value]])]),e("span",Fe,u(I.value.length)+" Registros ",1)]),e("div",Re,[e("button",{onClick:n[3]||(n[3]=a=>w.value="todos"),class:S(["px-4 py-1.5 text-xs font-bold rounded transition-all",w.value==="todos"?"bg-white/10 text-white shadow-sm":"text-white/50 hover:text-white"])}," TODOS ",2),e("button",{onClick:n[4]||(n[4]=a=>w.value="activos"),class:S(["px-4 py-1.5 text-xs font-bold rounded transition-all",w.value==="activos"?"bg-green-500/20 text-green-400 shadow-sm border border-green-500/30":"text-white/50 hover:text-white"])}," ACTIVOS ",2),e("button",{onClick:n[5]||(n[5]=a=>w.value="inactivos"),class:S(["px-4 py-1.5 text-xs font-bold rounded transition-all",w.value==="inactivos"?"bg-red-500/20 text-red-400 shadow-sm border border-red-500/30":"text-white/50 hover:text-white"])}," INACTIVOS ",2)])]),e("div",Be,[e("div",Ge,[e("table",He,[n[12]||(n[12]=e("thead",{class:"bg-black/20 sticky top-0 z-10 backdrop-blur-sm"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-bold text-white/50 uppercase tracking-wider"},"Calle y N√∫mero"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-white/50 uppercase tracking-wider"},"Localidad"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-white/50 uppercase tracking-wider"},"Tipo"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-white/50 uppercase tracking-wider"},"Entrega"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-white/50 uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-3 text-right text-xs font-bold text-white/50 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",qe,[I.value.length===0?(r(),d("tr",Ke,[...n[9]||(n[9]=[e("td",{colspan:"5",class:"px-6 py-8 text-center text-white/30"},[e("i",{class:"fa-solid fa-magnifying-glass mb-2 text-2xl opacity-50 block"}),C(" No se encontraron resultados. ")],-1)])])):g("",!0),(r(!0),d(A,null,z(I.value,a=>(r(),d("tr",{key:a.id,class:S(["hover:bg-white/5 cursor-pointer transition-colors group",{"opacity-50 grayscale":!a.activo}]),onClick:l=>p.$emit("edit",a)},[e("td",We,[C(u(a.calle)+" "+u(a.numero)+" ",1),a.piso||a.depto?(r(),d("span",Xe," ("+u(a.piso)+" "+u(a.depto)+") ",1)):g("",!0)]),e("td",Ye,u(a.localidad),1),e("td",Qe,[a.es_fiscal?(r(),d("span",Ze," FISCAL ")):(r(),d("span",et," SUCURSAL "))]),e("td",tt,[a.metodo_entrega?(r(),d("div",{key:0,class:"flex items-center gap-2",title:a.metodo_entrega},[a.metodo_entrega==="RETIRO_LOCAL"?(r(),d("i",lt)):a.metodo_entrega==="TRANSPORTE"?(r(),d("i",st)):a.metodo_entrega==="FLETE_MOTO"?(r(),d("i",nt)):a.metodo_entrega==="PLATAFORMA"?(r(),d("i",at)):g("",!0),e("span",it,u(a.metodo_entrega.replace("_"," ")),1)],8,ot)):(r(),d("span",rt,"-"))]),e("td",dt,[e("span",{class:S(["px-2 py-0.5 inline-flex text-[10px] leading-5 font-bold rounded-full border",a.activo?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"])},u(a.activo?"ACTIVO":"INACTIVO"),3)]),e("td",ct,[e("button",{onClick:D(l=>p.$emit("edit",a),["stop"]),class:"text-cyan-400 hover:text-cyan-300 mr-4 transition-colors text-lg",title:"Editar"},[...n[10]||(n[10]=[e("i",{class:"fa-solid fa-pencil w-4 h-4"},null,-1)])],8,ut),!a.es_fiscal&&a.activo?(r(),d("button",{key:0,onClick:D(l=>p.$emit("delete",a),["stop"]),class:"text-red-400 hover:text-red-300 transition-colors text-lg",title:"Dar de Baja"},[...n[11]||(n[11]=[e("i",{class:"fa-solid fa-trash w-4 h-4"},null,-1)])],8,pt)):g("",!0)])],10,Je))),128))])])])])]))}},xt={key:0,class:"fixed inset-0 z-[70] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4"},vt={class:"bg-[#0a253a] border border-white/10 rounded-xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]"},ft={class:"px-6 py-4 border-b border-white/10 flex justify-between items-center bg-black/20"},mt={class:"text-lg font-bold text-white"},wt={class:"p-6 overflow-y-auto space-y-6 scrollbar-thin scrollbar-thumb-white/10"},ht={class:"space-y-4"},gt=["disabled"],yt={key:0,class:"text-[10px] text-white/30 mt-1"},_t={class:"grid grid-cols-2 gap-4"},kt={class:"space-y-4"},Ct=["value"],$t={class:"flex items-center gap-2 pt-2"},St={class:"p-4 border-t border-white/10 bg-black/20 flex justify-end gap-3"},It=["disabled"],Et={key:0,class:"fa-solid fa-spinner fa-spin"},Dt={__name:"ContactoForm",props:{show:Boolean,clienteId:{type:String,required:!0},contacto:{type:Object,default:null}},emits:["close","saved"],setup(P,{emit:L}){const y=P,c=L,w=ie(),x=Le(),I=re(),p=de(),n=O(()=>w.tiposContacto),a=m(!1),l=m({persona:{id:null,nombre_completo:"",celular_personal:"",email_personal:""},vinculo:{id:null,tipo_contacto_id:null,email_laboral:"",telefono_escritorio:"",es_principal:!1}}),v=O(()=>!!y.contacto);ce(()=>{w.fetchTiposContacto()}),ue(()=>y.show,b=>{b&&(N(),y.contacto&&T(y.contacto))});const N=()=>{l.value={persona:{id:null,nombre_completo:"",celular_personal:"",email_personal:""},vinculo:{id:null,tipo_contacto_id:null,email_laboral:"",telefono_escritorio:"",es_principal:!1}}},T=b=>{l.value.vinculo={id:b.id,tipo_contacto_id:b.tipo_contacto_id,email_laboral:b.email_laboral,telefono_escritorio:b.telefono_escritorio,es_principal:b.es_principal},b.persona&&(l.value.persona={id:b.persona.id,nombre_completo:b.persona.nombre_completo,celular_personal:b.persona.celular_personal,email_personal:b.persona.email_personal})},V=async()=>{if(!l.value.persona.nombre_completo&&!v.value){p.add("El nombre es obligatorio","error");return}if(!l.value.vinculo.tipo_contacto_id){p.add("El rol es obligatorio","error");return}a.value=!0;try{let b=l.value.persona.id;v.value?await x.updatePersona(b,l.value.persona):b=(await x.createPersona(l.value.persona)).id;const i={...l.value.vinculo,cliente_id:y.clienteId,persona_id:b};v.value?(await I.updateVinculo(y.clienteId,l.value.vinculo.id,i),p.add("Contacto actualizado","success")):(await I.createVinculo(y.clienteId,i),p.add("Contacto creado","success")),c("saved"),c("close")}catch(b){console.error(b),p.add("Error al guardar contacto","error")}finally{a.value=!1}};return(b,i)=>P.show?(r(),d("div",xt,[e("div",vt,[e("div",ft,[e("h3",mt,u(v.value?"Editar Contacto":"Nuevo Contacto"),1),e("button",{onClick:i[0]||(i[0]=f=>b.$emit("close")),class:"text-white/50 hover:text-white transition-colors"},[...i[9]||(i[9]=[e("i",{class:"fa-solid fa-times text-xl"},null,-1)])])]),e("div",wt,[e("div",ht,[i[13]||(i[13]=e("h4",{class:"text-xs font-bold uppercase text-cyan-400 border-b border-cyan-500/30 pb-1 mb-2"},"Datos Personales",-1)),e("div",null,[i[10]||(i[10]=e("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Nombre Completo *",-1)),h(e("input",{"onUpdate:modelValue":i[1]||(i[1]=f=>l.value.persona.nombre_completo=f),type:"text",class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-cyan-400 outline-none transition-colors",placeholder:"Juan P√©rez",disabled:v.value},null,8,gt),[[k,l.value.persona.nombre_completo]]),v.value?(r(),d("p",yt,"El nombre de la persona no se edita desde aqu√≠.")):g("",!0)]),e("div",_t,[e("div",null,[i[11]||(i[11]=e("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Celular Personal",-1)),h(e("input",{"onUpdate:modelValue":i[2]||(i[2]=f=>l.value.persona.celular_personal=f),type:"text",class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-cyan-400 outline-none transition-colors",placeholder:"+54 9..."},null,512),[[k,l.value.persona.celular_personal]])]),e("div",null,[i[12]||(i[12]=e("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Email Personal",-1)),h(e("input",{"onUpdate:modelValue":i[3]||(i[3]=f=>l.value.persona.email_personal=f),type:"email",class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-cyan-400 outline-none transition-colors",placeholder:"personal@gmail.com"},null,512),[[k,l.value.persona.email_personal]])])])]),e("div",kt,[i[19]||(i[19]=e("h4",{class:"text-xs font-bold uppercase text-cyan-400 border-b border-cyan-500/30 pb-1 mb-2"},"Datos Laborales",-1)),e("div",null,[i[15]||(i[15]=e("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Rol / Tipo *",-1)),h(e("select",{"onUpdate:modelValue":i[4]||(i[4]=f=>l.value.vinculo.tipo_contacto_id=f),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-cyan-400 outline-none appearance-none [&>option]:bg-slate-900"},[i[14]||(i[14]=e("option",{value:null},"Seleccionar Rol...",-1)),(r(!0),d(A,null,z(n.value,f=>(r(),d("option",{key:f.id,value:f.id},u(f.nombre),9,Ct))),128))],512),[[Q,l.value.vinculo.tipo_contacto_id]])]),e("div",null,[i[16]||(i[16]=e("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Email Laboral",-1)),h(e("input",{"onUpdate:modelValue":i[5]||(i[5]=f=>l.value.vinculo.email_laboral=f),type:"email",class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-cyan-400 outline-none transition-colors",placeholder:"trabajo@empresa.com"},null,512),[[k,l.value.vinculo.email_laboral]])]),e("div",null,[i[17]||(i[17]=e("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Tel√©fono Escritorio",-1)),h(e("input",{"onUpdate:modelValue":i[6]||(i[6]=f=>l.value.vinculo.telefono_escritorio=f),type:"text",class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-cyan-400 outline-none transition-colors",placeholder:"Interno 123..."},null,512),[[k,l.value.vinculo.telefono_escritorio]])]),e("div",$t,[h(e("input",{type:"checkbox","onUpdate:modelValue":i[7]||(i[7]=f=>l.value.vinculo.es_principal=f),id:"principalCheck",class:"accent-cyan-500 h-4 w-4"},null,512),[[ke,l.value.vinculo.es_principal]]),i[18]||(i[18]=e("label",{for:"principalCheck",class:"text-sm text-white cursor-pointer select-none"},"Contacto Principal",-1))])])]),e("div",St,[e("button",{onClick:i[8]||(i[8]=f=>b.$emit("close")),class:"px-4 py-2 text-white/50 hover:text-white transition-colors text-sm font-bold"},"Cancelar"),e("button",{onClick:V,class:"px-6 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg font-bold shadow-lg shadow-cyan-900/20 transition-all flex items-center gap-2",disabled:a.value},[a.value?(r(),d("i",Et)):g("",!0),e("span",null,u(a.value?"Guardando...":"Guardar"),1)],8,It)])])])):g("",!0)}},Nt={class:"flex h-full w-full bg-[var(--hawe-bg-panel)] text-white overflow-hidden font-sans"},Tt={class:"w-80 flex flex-col border-r border-white/10 bg-black/20 backdrop-blur-md z-20"},Vt={class:"h-14 flex items-center justify-between px-6 border-b border-white/10 shrink-0"},At={class:"flex-1 overflow-y-auto p-6 space-y-6 scrollbar-thin scrollbar-thumb-white/10"},Lt={class:"text-center"},jt={class:"mt-4 space-y-2"},Ut={class:"space-y-3"},zt={class:"bg-white/5 rounded-lg p-3 border border-white/5"},Ot={class:"w-full"},Pt=["value"],Mt={class:"space-y-4 pt-4 border-t border-white/10"},Ft={class:"space-y-2"},Rt={class:"flex items-center bg-white/5 rounded-lg px-3 py-2 border border-white/5"},Bt={class:"space-y-2"},Gt={class:"flex-1 flex flex-col relative bg-gradient-to-br from-[#0f344e] to-[#0a1f2e]"},Ht={class:"h-32 px-8 py-6 flex items-start justify-between border-b border-white/5 bg-white/5"},qt={class:"flex-1 mr-8"},Kt={key:0,class:"space-y-4"},Jt={class:"bg-white/5 p-4 rounded-xl border border-white/10 shadow-lg backdrop-blur-sm"},Wt={key:1},Xt={class:"font-outfit text-2xl font-bold text-white mb-1"},Yt={class:"flex items-center gap-4"},Qt={class:"flex items-center gap-2 bg-black/20 px-2 py-1 rounded-full border border-white/10"},Zt={class:"text-white/50 text-xs"},eo={key:0,class:"flex gap-4"},to={class:"bg-black/20 rounded-lg p-3 border border-white/5 min-w-[120px]"},oo={class:"text-lg font-mono text-white font-bold"},lo={class:"bg-black/20 rounded-lg p-3 border border-white/5 min-w-[120px]"},so={class:"text-lg text-white/70"},no={key:1,class:"flex items-start"},ao={class:"flex-1 overflow-y-auto p-8"},io={key:0,class:"max-w-3xl space-y-8"},ro={class:"grid grid-cols-2 gap-6"},co={class:"bg-white/5 p-6 rounded-xl border border-white/10"},uo={class:"space-y-4"},po={class:"text-[10px] text-white/30 mt-1 text-right"},bo={class:"flex gap-2"},xo=["value"],vo={key:1},fo={class:"space-y-6 max-w-3xl"},mo={class:"bg-white/5 border border-white/10 rounded-xl p-4"},wo={class:"h-16 bg-[#081824] border-t border-white/10 px-6 flex items-center justify-end shrink-0 z-30"},ho={class:"flex items-center gap-3"},go={class:"w-80 flex flex-col border-l border-white/10 bg-black/20 backdrop-blur-md z-20"},yo={class:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-white/10"},_o={class:"flex items-center justify-between mb-3"},ko={class:"space-y-2"},Co=["onClick","onDblclick","onContextmenu"],$o={class:"flex justify-between items-start mb-1"},So={key:0,class:"text-[10px] bg-purple-500/20 text-purple-300 px-1.5 rounded border border-purple-500/30"},Io={key:1,class:"text-[10px] bg-gray-700 text-gray-300 px-1.5 rounded"},Eo=["onClick"],Do={class:"text-sm font-medium text-white leading-tight"},No={class:"text-xs text-white/50"},To={class:"mt-2 flex items-center gap-2 text-xs text-white/40"},Vo={class:"space-y-2"},Ao={class:"flex items-center gap-3"},Lo={class:"h-8 w-8 rounded-full bg-gradient-to-br from-pink-500 to-orange-400 flex items-center justify-center text-xs font-bold text-white shrink-0"},jo={class:"flex-1 min-w-0"},Uo={class:"flex justify-between"},zo={class:"text-sm font-bold text-white truncate"},Oo=["onClick"],Po={class:"text-[10px] text-white/50 uppercase truncate"},Mo={key:0,class:"text-center py-4 border border-dashed border-white/10 rounded-lg"},Fo={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm"},Ro={class:"bg-[#0a253a] border border-white/10 rounded-xl p-6 w-96 shadow-2xl"},Bo={class:"flex justify-end gap-3"},Go={key:3,class:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center p-8"},Ho={class:"bg-[#0a253a] border border-white/10 rounded-xl w-full h-full shadow-2xl overflow-hidden"},Jo={__name:"ClientCanvas",setup(P){const L=$e(),y=Ie(),c=re(),w=ie(),x=de(),I=()=>y.push("/hawe"),p=()=>y.push({name:"HaweClientCanvas",params:{id:"new"}}),n=m(!1),a=m("CLIENTE"),l=m({id:null,razon_social:"",cuit:"",condicion_iva:"Responsable Inscripto",lista_precios_id:null,vendedor_id:null,segmento_id:null,limite_credito:0,dias_vencimiento:30,activo:!0,observaciones:"",web_portal_pagos:"",datos_acceso_pagos:"",saldo:0,fecha_ultima_compra:null,codigo_interno:""}),v=m([]),N=m([]),T=m(!1),V=m(""),b=m(!1),i=m(!1),f=m(null),B=m(null),j=m(null),U=m(!1),G=m(!1),M=m(!1),H=m(null),_=Ce({show:!1,x:0,y:0,actions:[]});O(()=>w.listasPrecios),O(()=>w.vendedores);const Z=O(()=>w.segmentos),ee=s=>{if(s.key==="Escape"){if(a.value!=="CLIENTE"){a.value="CLIENTE";return}y.push("/hawe")}if(s.key==="F10"){if(s.preventDefault(),a.value==="DOMICILIO")return;J()}if(!n.value&&a.value==="CLIENTE"){if(v.value.length>0&&j.value){const t=v.value.findIndex(o=>o.id===j.value);if(s.key==="ArrowUp"){s.preventDefault();const o=t>0?t-1:v.value.length-1;W(v.value[o]);return}if(s.key==="ArrowDown"){s.preventDefault();const o=t<v.value.length-1?t+1:0;W(v.value[o]);return}if(s.key==="Enter"||s.key===" "){s.preventDefault(),E(v.value[t]);return}}c.clientes.length>0&&(s.key==="ArrowLeft"&&F(-1),s.key==="ArrowRight"&&F(1),s.key==="Home"&&(s.preventDefault(),q(0)),s.key==="End"&&(s.preventDefault(),q(c.clientes.length-1)),s.key==="PageUp"&&(s.preventDefault(),F(-10)),s.key==="PageDown"&&(s.preventDefault(),F(10)))}},q=s=>{if(s>=0&&s<c.clientes.length){const t=c.clientes[s];y.push({name:"HaweClientCanvas",params:{id:t.id}})}},F=s=>{const t=c.clientes.findIndex($=>$.id==l.value.id);if(t===-1)return;let o=t+s;Math.abs(s)===1?(o<0&&(o=c.clientes.length-1),o>=c.clientes.length&&(o=0)):(o<0&&(o=0),o>=c.clientes.length&&(o=c.clientes.length-1)),q(o)};ce(async()=>{window.addEventListener("keydown",ee),await w.fetchAll(),c.clientes.length===0&&await c.fetchClientes(),L.params.id==="new"?(n.value=!0,te()):(n.value=!1,await K(L.params.id))}),ue(()=>L.params.id,async s=>{s==="new"?(n.value=!0,te()):s&&(n.value=!1,await K(s))}),Se(()=>{window.removeEventListener("keydown",ee)});const te=()=>{l.value={id:null,razon_social:"",cuit:"",condicion_iva:"Responsable Inscripto",lista_precios_id:null,vendedor_id:null,segmento_id:null,limite_credito:0,dias_vencimiento:30,activo:!0,observaciones:"",web_portal_pagos:"",datos_acceso_pagos:"",saldo:0,fecha_ultima_compra:null,codigo_interno:""},v.value=[],N.value=[]},K=async s=>{try{const t=await c.fetchClienteById(s);t&&(l.value={...t},v.value=t.domicilios||[],N.value=t.vinculos||[])}catch(t){x.add("Error al cargar cliente","error"),console.error(t)}},J=async()=>{try{const s={...l.value,domicilios:v.value,vinculos:N.value};n.value?(await c.createCliente(s),x.add("Cliente creado exitosamente","success")):(await c.updateCliente(l.value.id,s),x.add("Cliente actualizado exitosamente","success")),y.push("/hawe")}catch(s){x.add("Error al guardar cliente","error"),console.error(s)}},pe=async()=>{if(confirm("¬øEst√° seguro de dar de baja este cliente?"))try{await c.deleteCliente(l.value.id),x.add("Cliente dado de baja","success"),y.push("/hawe")}catch{x.add("Error al dar de baja","error")}},be=async()=>{try{l.value.activo=!0,await J()}catch{x.add("Error al reactivar cliente","error"),l.value.activo=!1}},xe=()=>{l.value.id=null,l.value.razon_social+=" (Copia)",l.value.codigo_interno="",n.value=!0,y.push({name:"HaweClientCanvas",params:{id:"new"}}),x.add("Cliente clonado. Edite y guarde.","info")},ve=()=>{if(n.value){x.add("Guarde el cliente antes de agregar contactos","warning");return}H.value=null,M.value=!0},fe=s=>{H.value=s,M.value=!0},me=async()=>{await K(l.value.id)},oe=async()=>{if(V.value)try{if(w.createSegmento){const s=await w.createSegmento({nombre:V.value});l.value.segmento_id=s.id,x.add("Segmento creado","success")}else x.add("Funci√≥n crear segmento no implementada en store","warning");T.value=!1,V.value=""}catch(s){console.error(s),x.add("Error al crear segmento","error")}},we=()=>{l.value.segmento_id==="__NEW__"&&(l.value.segmento_id=null,T.value=!0)},le=s=>{l.value.cuit=s.target.value.replace(/[^0-9]/g,"")},he=(s=null)=>{f.value=s?s.id:null,b.value=!0},ge=()=>{b.value=!1,f.value=null},ye=async()=>{await w.fetchSegmentos(null,!0)},se=s=>{_.show=!0,_.x=s.clientX,_.y=s.clientY,_.actions=[{label:"Nuevo Segmento",icon:"‚ûï",handler:()=>he()},{label:"Administrar Segmentos",icon:"üìã",handler:()=>{i.value=!0}}]},E=(s=null)=>{B.value=s,a.value="DOMICILIO"},_e=async s=>{try{let t;if(s.id?(t=await c.updateDomicilio(l.value.id,s.id,s),x.add("Domicilio actualizado","success")):(t=await c.createDomicilio(l.value.id,s),x.add("Domicilio creado","success")),s.id){const o=v.value.findIndex($=>$.id===s.id);o!==-1&&(v.value[o]=t)}else v.value.push(t)}catch(t){console.error(t),x.add("Error al guardar domicilio","error")}a.value="CLIENTE"},W=s=>{j.value=s.id},ne=(s,t=null)=>{_.show=!0,_.x=s.clientX,_.y=s.clientY,t?_.actions=[{label:"Editar Domicilio",icon:"‚úèÔ∏è",handler:()=>E(t)},{label:"Eliminar",icon:"üóëÔ∏è",handler:()=>ae(t)}]:_.actions=[{label:"Nuevo Domicilio",icon:"‚ûï",handler:()=>E()},{label:"Administrar Domicilios",icon:"üìã",handler:()=>{U.value=!0}}]},ae=async s=>{if(confirm("¬øEst√° seguro de eliminar este domicilio?")){try{await c.deleteDomicilio(l.value.id,s.id),v.value=v.value.filter(t=>t.id!==s.id),x.add("Domicilio eliminado","success")}catch(t){console.error(t),x.add("Error al eliminar domicilio","error")}j.value===s.id&&(j.value=null,B.value=null)}};return(s,t)=>(r(),d("div",Nt,[e("aside",Tt,[e("div",Vt,[e("div",{class:"flex items-center gap-4"},[e("button",{onClick:I,class:"flex items-center gap-2 text-white hover:text-cyan-400 transition-colors group",title:"Ir al Listado de Clientes"},[...t[32]||(t[32]=[e("i",{class:"fa-solid fa-list text-cyan-400"},null,-1),e("span",{class:"font-outfit text-sm font-bold uppercase tracking-wider text-cyan-400"},"Fichas",-1)])])]),n.value?g("",!0):(r(),d("button",{key:0,onClick:p,class:"flex items-center gap-2 text-white/50 hover:text-white px-3 py-1.5 rounded-md hover:bg-white/5 transition-all group border border-transparent hover:border-white/10"},[...t[33]||(t[33]=[e("i",{class:"fa-solid fa-plus text-xs"},null,-1),e("span",{class:"font-outfit text-xs font-bold uppercase tracking-wider"},"Nuevo Cliente",-1)])]))]),e("div",At,[e("div",Lt,[t[34]||(t[34]=e("div",{class:"relative group cursor-pointer inline-block"},[e("div",{class:"h-20 w-20 rounded-full bg-white/10 flex items-center justify-center text-3xl text-cyan-400 border-2 border-white/20 group-hover:border-cyan-400 transition-colors mx-auto"},[e("i",{class:"fa-solid fa-building"})])],-1)),e("div",jt,[h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.razon_social=o),type:"text",class:"w-full bg-transparent text-center font-outfit text-xl font-bold text-white focus:outline-none border-b border-transparent focus:border-cyan-400 placeholder-white/30",placeholder:"Raz√≥n Social"},null,512),[[k,l.value.razon_social]]),h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.nombre_fantasia=o),type:"text",class:"w-full bg-transparent text-center text-sm text-white/70 focus:outline-none border-b border-transparent focus:border-cyan-400 placeholder-white/20",placeholder:"Nombre Fantas√≠a (Opcional)"},null,512),[[k,l.value.nombre_fantasia]])])]),e("div",Ut,[e("div",zt,[t[35]||(t[35]=e("label",{class:"block text-[10px] font-bold uppercase text-white/40 mb-1"},"CUIT",-1)),h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.cuit=o),onInput:le,type:"text",class:"w-full bg-transparent text-sm font-mono text-white focus:outline-none",placeholder:"00000000000",maxlength:"11"},null,544),[[k,l.value.cuit]])]),e("div",{class:"bg-white/5 rounded-lg p-3 border border-white/5",onDblclick:t[5]||(t[5]=o=>i.value=!0),title:"Doble click para administrar"},[e("label",{class:"block text-[10px] font-bold uppercase text-white/40 mb-1 cursor-pointer hover:text-white/80 select-none",onContextmenu:t[3]||(t[3]=D(o=>se(o),["prevent"]))}," SEGMENTOS ",32),e("div",Ot,[h(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>l.value.segmento_id=o),onChange:we,class:"w-full bg-transparent text-sm text-white focus:outline-none appearance-none [&>option]:bg-slate-900 border-b border-white/10 focus:border-cyan-400 pb-1"},[t[36]||(t[36]=e("option",{value:null},"Sin Segmento",-1)),t[37]||(t[37]=e("option",{value:"__NEW__",class:"text-green-400 font-bold"},"+ Crear Nuevo Segmento",-1)),t[38]||(t[38]=e("option",{disabled:""},"----------------",-1)),(r(!0),d(A,null,z(Z.value,o=>(r(),d("option",{key:o.id,value:o.id},u(o.nombre),9,Pt))),128))],544),[[Q,l.value.segmento_id]])])],32)]),e("div",Mt,[t[42]||(t[42]=e("h3",{class:"text-xs font-bold uppercase text-white/50"},"Administraci√≥n",-1)),e("div",Ft,[t[40]||(t[40]=e("label",{class:"text-xs text-white/70"},"Portal de Pagos",-1)),e("div",Rt,[t[39]||(t[39]=e("i",{class:"fa-solid fa-globe w-4 text-white/30"},null,-1)),h(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>l.value.web_portal_pagos=o),type:"text",class:"flex-1 bg-transparent text-xs text-white focus:outline-none ml-2",placeholder:"https://..."},null,512),[[k,l.value.web_portal_pagos]])])]),e("div",Bt,[t[41]||(t[41]=e("label",{class:"text-xs text-white/70"},"Datos Acceso",-1)),h(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=o=>l.value.datos_acceso_pagos=o),rows:"2",class:"w-full bg-white/5 rounded-lg px-3 py-2 border border-white/5 text-xs text-white focus:outline-none resize-none",placeholder:"Usuario / Clave..."},null,512),[[k,l.value.datos_acceso_pagos]])])])])]),e("main",Gt,[a.value==="CLIENTE"?(r(),d(A,{key:0},[e("header",Ht,[e("div",qt,[n.value?(r(),d("div",Kt,[t[44]||(t[44]=e("h1",{class:"font-outfit text-2xl font-bold text-white/50 mb-1 uppercase"},"Alta de Cliente",-1)),e("div",Jt,[t[43]||(t[43]=e("label",{class:"block text-xs font-bold uppercase text-cyan-400 mb-1"},[C("Raz√≥n Social "),e("span",{class:"text-red-400"},"*")],-1)),h(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>l.value.razon_social=o),type:"text",class:"w-full bg-transparent text-2xl font-bold text-white focus:outline-none placeholder-white/20 border-b border-white/10 focus:border-cyan-400 transition-colors",placeholder:"Ingrese el nombre del cliente...",autofocus:""},null,512),[[k,l.value.razon_social]])])])):(r(),d("div",Wt,[e("h1",Xt,u(l.value.razon_social),1),e("div",Yt,[e("div",Qt,[e("span",{class:S(["text-[10px] font-bold uppercase",l.value.activo?"text-green-400":"text-red-400"])},u(l.value.activo?"OPERATIVO":"INACTIVO"),3),e("button",{onClick:t[9]||(t[9]=o=>l.value.activo=!l.value.activo),class:S(["relative inline-flex h-4 w-8 items-center rounded-full transition-colors focus:outline-none",l.value.activo?"bg-green-500/50":"bg-red-500/50"]),title:"Click para cambiar estado"},[e("span",{class:S(["inline-block h-2.5 w-2.5 transform rounded-full bg-white transition-transform shadow-sm",l.value.activo?"translate-x-4":"translate-x-1"])},null,2)],2)]),t[45]||(t[45]=e("span",{class:"text-white/30 text-xs"},"‚Ä¢",-1)),e("span",Zt,"C√≥d: "+u(l.value.codigo_interno||"---"),1)])]))]),n.value?(r(),d("div",no)):(r(),d("div",eo,[e("div",to,[t[46]||(t[46]=e("p",{class:"text-[10px] uppercase text-white/40 font-bold"},"Saldo Actual",-1)),e("p",oo,"$ "+u(l.value.saldo?Number(l.value.saldo).toFixed(2):"0.00"),1)]),e("div",lo,[t[47]||(t[47]=e("p",{class:"text-[10px] uppercase text-white/40 font-bold"},"√öltima Compra",-1)),e("p",so,u(l.value.fecha_ultima_compra?new Date(l.value.fecha_ultima_compra).toLocaleDateString():"--/--/--"),1)]),t[48]||(t[48]=Y('<div class="relative group"><button class="bg-cyan-900/20 rounded-lg p-3 border border-cyan-500/30 min-w-[120px] text-left hover:bg-cyan-900/40 transition-colors w-full"><p class="text-[10px] uppercase text-cyan-400 font-bold flex justify-between"> Pendientes <i class="fa-solid fa-chevron-down"></i></p><p class="text-lg text-cyan-300 font-bold">0</p></button><div class="absolute right-0 mt-2 w-64 bg-[#0a253a] border border-cyan-500/30 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50 p-2"><p class="text-xs text-white/50 uppercase font-bold mb-2 px-2">En curso</p><div class="space-y-1"><div class="px-2 py-1.5 hover:bg-white/5 rounded text-sm text-white/70 flex justify-between"><span>Cotizaciones</span><span class="font-bold text-white">0</span></div><div class="px-2 py-1.5 hover:bg-white/5 rounded text-sm text-white/70 flex justify-between"><span>Pedidos Abiertos</span><span class="font-bold text-white">0</span></div><div class="px-2 py-1.5 hover:bg-white/5 rounded text-sm text-white/70 flex justify-between"><span>Remitos s/Facturar</span><span class="font-bold text-white">0</span></div></div></div></div>',1))]))]),e("div",ao,[n.value?(r(),d("div",io,[e("div",ro,[e("div",co,[t[52]||(t[52]=e("h3",{class:"text-sm font-bold text-white/90 mb-4 uppercase border-b border-white/10 pb-2"},"Datos Obligatorios",-1)),e("div",uo,[e("div",null,[t[49]||(t[49]=e("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},[C("CUIT "),e("span",{class:"text-red-400"},"*")],-1)),h(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>l.value.cuit=o),onInput:le,type:"text",class:"w-full bg-black/20 text-lg font-mono text-white focus:outline-none p-2 rounded border border-white/10 focus:border-cyan-400",placeholder:"00000000000",maxlength:"11"},null,544),[[k,l.value.cuit]]),e("p",po,u(l.value.cuit?l.value.cuit.length:0)+"/11",1)]),e("div",null,[e("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1 cursor-pointer hover:text-white/80 select-none",onContextmenu:t[11]||(t[11]=D(o=>se(o),["prevent"])),onDblclick:t[12]||(t[12]=o=>i.value=!0),title:"Doble click para administrar"}," Segmento ",32),e("div",bo,[h(e("select",{"onUpdate:modelValue":t[13]||(t[13]=o=>l.value.segmento_id=o),class:"flex-1 bg-black/20 text-sm text-white focus:outline-none p-2 rounded border border-white/10 focus:border-cyan-400 appearance-none [&>option]:bg-slate-900"},[t[50]||(t[50]=e("option",{value:null},"Seleccionar Segmento...",-1)),(r(!0),d(A,null,z(Z.value,o=>(r(),d("option",{key:o.id,value:o.id},u(o.nombre),9,xo))),128))],512),[[Q,l.value.segmento_id]]),e("button",{onClick:t[14]||(t[14]=o=>T.value=!0),class:"px-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded text-cyan-400 hover:text-cyan-300 transition-colors",title:"Nuevo Segmento"},[...t[51]||(t[51]=[e("i",{class:"fa-solid fa-plus"},null,-1)])])])])])]),t[53]||(t[53]=Y('<div class="bg-white/5 p-6 rounded-xl border border-white/10 opacity-50"><h3 class="text-sm font-bold text-white/90 mb-4 uppercase border-b border-white/10 pb-2">Pr√≥ximos Pasos</h3><ul class="space-y-2 text-sm text-white/60"><li><i class="fa-solid fa-circle-check text-white/20 mr-2"></i>Guardar Datos B√°sicos</li><li><i class="fa-solid fa-circle text-white/20 mr-2"></i>Cargar Domicilios</li><li><i class="fa-solid fa-circle text-white/20 mr-2"></i>Cargar Contactos</li></ul><p class="mt-4 text-xs text-cyan-400">Guarde el cliente para habilitar la carga de domicilios y contactos.</p></div>',1))])])):(r(),d("div",vo,[t[56]||(t[56]=e("div",{class:"flex border-b border-white/10 mb-6"},[e("button",{class:"px-4 py-2 text-sm font-bold text-cyan-400 border-b-2 border-cyan-400"},"Bit√°cora & Notas"),e("button",{class:"px-4 py-2 text-sm font-medium text-white/50 hover:text-white transition-colors"},"Historial Compras"),e("button",{class:"px-4 py-2 text-sm font-medium text-white/50 hover:text-white transition-colors"},"Productos Habituales")],-1)),e("div",fo,[e("div",mo,[t[54]||(t[54]=e("div",{class:"flex justify-between items-center mb-2"},[e("h3",{class:"text-sm font-bold text-white/90"},[e("i",{class:"fa-solid fa-note-sticky mr-2 text-yellow-400"}),C("Notas Internas")]),e("span",{class:"text-xs text-white/30"},"Visible solo para administraci√≥n")],-1)),h(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=o=>l.value.observaciones=o),class:"w-full h-32 bg-black/20 border border-white/10 rounded-lg p-3 text-sm text-white focus:outline-none focus:border-cyan-400 transition-all placeholder-white/20 resize-none",placeholder:"Escribe recordatorios, preferencias de entrega, o detalles importantes..."},null,512),[[k,l.value.observaciones]])]),t[55]||(t[55]=Y('<div class="opacity-50 pointer-events-none"><h4 class="text-xs font-bold uppercase text-white/30 mb-2">Actividad Reciente (Pr√≥ximamente)</h4><div class="space-y-2"><div class="flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5"><div class="h-8 w-8 rounded-full bg-green-500/20 flex items-center justify-center text-green-400"><i class="fa-solid fa-check"></i></div><div><p class="text-sm text-white">Pedido #1234 Entregado</p><p class="text-xs text-white/40">Hace 2 d√≠as</p></div></div></div></div>',1))])]))]),e("footer",wo,[e("div",ho,[t[59]||(t[59]=e("span",{class:"text-xs text-white/30 mr-4 font-mono hidden sm:inline-block"},[e("span",{class:"mr-3"},"ESC = Volver"),e("span",null,"F10 = Guardar")],-1)),n.value?g("",!0):(r(),d("button",{key:0,onClick:xe,class:"px-4 py-2 rounded-lg text-white/50 hover:text-white hover:bg-white/10 text-sm font-medium transition-colors",title:"Crear nuevo basado en este"},[...t[57]||(t[57]=[e("i",{class:"fa-solid fa-copy mr-2"},null,-1),C("Clonar ",-1)])])),!n.value&&l.value.activo?(r(),d("button",{key:1,onClick:pe,class:"px-4 py-2 rounded-lg text-red-400 hover:bg-red-900/20 hover:text-red-300 text-sm font-medium transition-colors"}," Dar de Baja ")):g("",!0),!n.value&&!l.value.activo?(r(),d("button",{key:2,onClick:be,class:"px-4 py-2 rounded-lg text-green-400 hover:bg-green-900/20 hover:text-green-300 text-sm font-medium transition-colors"}," Activar ")):g("",!0),e("button",{onClick:J,class:"px-6 py-2 rounded-lg bg-emerald-700 hover:bg-emerald-600 text-white text-sm font-bold shadow-lg shadow-emerald-900/50 transition-all transform active:scale-95 flex items-center gap-2"},[...t[58]||(t[58]=[C(" Guardar Cambios ",-1),e("span",{class:"font-mono opacity-80"},"F10",-1)])])])])],64)):g("",!0),a.value==="DOMICILIO"?(r(),X(Ee,{key:1,show:!0,domicilio:B.value,defaultTransportId:l.value.domicilios?.find(o=>o.es_fiscal)?.transporte_id,onClose:t[16]||(t[16]=o=>a.value="CLIENTE"),onSaved:_e},null,8,["domicilio","defaultTransportId"])):g("",!0)]),e("aside",go,[e("div",yo,[e("section",null,[e("div",_o,[e("h3",{class:"text-sm font-bold text-cyan-400 bg-white/5 px-3 py-1.5 rounded-md border border-white/10 w-full block text-center mb-4 shadow-sm cursor-pointer select-none hover:bg-white/10 transition-colors relative group",onContextmenu:t[18]||(t[18]=D(o=>ne(o),["prevent"])),onDblclick:t[19]||(t[19]=o=>U.value=!0),title:"Doble click para administrar"},[t[61]||(t[61]=C(" LOG√çSTICA ",-1)),e("button",{onClick:t[17]||(t[17]=D(o=>G.value=!0,["stop"])),class:"absolute right-2 top-1/2 -translate-y-1/2 text-white/30 hover:text-cyan-400 transition-colors",title:"Administrar Transportes"},[...t[60]||(t[60]=[e("i",{class:"fa-solid fa-truck"},null,-1)])])],32)]),e("div",ko,[(r(!0),d(A,null,z(v.value.filter(o=>o.activo!==!1),o=>(r(),d("div",{key:o.id,onClick:$=>W(o),onDblclick:$=>E(o),onContextmenu:D($=>ne($,o),["prevent"]),class:S(["bg-white/5 border rounded-lg p-3 transition-all cursor-pointer group relative",j.value===o.id?"border-cyan-500/50 bg-cyan-500/5 ring-1 ring-cyan-500/20":"border-white/10 hover:border-white/20"])},[e("div",$o,[o.es_fiscal?(r(),d("span",So,"FISCAL")):(r(),d("span",Io,"SUCURSAL")),e("button",{onClick:D($=>E(o),["stop"]),class:"text-[10px] text-white/30 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity"},[...t[62]||(t[62]=[e("i",{class:"fa-solid fa-pencil"},null,-1)])],8,Eo)]),e("p",Do,u(o.calle)+" "+u(o.numero),1),e("p",No,u(o.localidad),1),e("div",To,[t[63]||(t[63]=e("i",{class:"fa-solid fa-truck"},null,-1)),C(" "+u(o.transporte?.nombre||o.transporte_nombre||"Sin Transporte"),1)])],42,Co))),128)),e("button",{onClick:t[20]||(t[20]=o=>E()),class:"w-full py-2 border border-dashed border-white/10 rounded-lg text-white/30 hover:text-cyan-400 hover:border-cyan-500/30 hover:bg-cyan-500/5 transition-all flex items-center justify-center gap-2 text-xs font-bold uppercase"},[...t[64]||(t[64]=[e("i",{class:"fa-solid fa-plus"},null,-1),C(" Agregar Domicilio ",-1)])])])]),e("section",null,[e("div",{class:"flex items-center justify-between mb-3"},[t[66]||(t[66]=e("h3",{class:"text-sm font-bold text-cyan-400 bg-white/5 px-3 py-1.5 rounded-md border border-white/10 w-full block text-center mb-4 shadow-sm"},"CONTACTOS",-1)),e("button",{onClick:ve,class:"text-cyan-400 hover:text-cyan-300 text-xs"},[...t[65]||(t[65]=[e("i",{class:"fa-solid fa-plus"},null,-1)])])]),e("div",Vo,[(r(!0),d(A,null,z(N.value,o=>(r(),d("div",{key:o.id,class:"bg-white/5 border border-white/10 rounded-lg p-3 transition-colors group"},[e("div",Ao,[e("div",Lo,u(o.nombre?o.nombre.substring(0,2).toUpperCase():"NN"),1),e("div",jo,[e("div",Uo,[e("p",zo,u(o.nombre),1),e("button",{onClick:$=>fe(o),class:"text-[10px] text-white/30 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity"},[...t[67]||(t[67]=[e("i",{class:"fa-solid fa-pencil"},null,-1)])],8,Oo)]),e("p",Po,u(o.rol||"Sin Rol"),1)])])]))),128)),N.value.length===0?(r(),d("div",Mo,[...t[68]||(t[68]=[e("p",{class:"text-xs text-white/30"},"Sin contactos",-1)])])):g("",!0)])])])]),T.value?(r(),d("div",Fo,[e("div",Ro,[t[69]||(t[69]=e("h3",{class:"text-lg font-bold text-white mb-4"},"Nuevo Segmento",-1)),h(e("input",{"onUpdate:modelValue":t[21]||(t[21]=o=>V.value=o),onKeydown:De(oe,["enter"]),type:"text",class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-cyan-400 outline-none mb-4",placeholder:"Nombre del Segmento",autofocus:""},null,544),[[k,V.value]]),e("div",Bo,[e("button",{onClick:t[22]||(t[22]=o=>T.value=!1),class:"text-white/50 hover:text-white text-sm"},"Cancelar"),e("button",{onClick:oe,class:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded text-sm font-bold"},"Crear")])])])):g("",!0),R(Ne,{show:b.value,id:f.value,onClose:ge,onSaved:ye},null,8,["show","id"]),i.value?(r(),X(Te,{key:1,isStacked:!0,class:"fixed inset-0 z-[60] bg-white m-4 rounded-lg shadow-2xl overflow-hidden",onClose:t[23]||(t[23]=o=>i.value=!1)})):g("",!0),U.value?(r(),X(bt,{key:2,domicilios:v.value,class:"fixed inset-0 z-[60] m-4 rounded-lg shadow-2xl overflow-hidden",onClose:t[24]||(t[24]=o=>U.value=!1),onCreate:t[25]||(t[25]=o=>{E(),U.value=!1}),onEdit:t[26]||(t[26]=o=>{E(o),U.value=!1}),onDelete:t[27]||(t[27]=o=>ae(o))},null,8,["domicilios"])):g("",!0),G.value?(r(),d("div",Go,[e("div",Ho,[R(Ve,{isModal:!0,onClose:t[28]||(t[28]=o=>G.value=!1)})])])):g("",!0),R(Dt,{show:M.value,clienteId:l.value.id||void 0,contacto:H.value,onClose:t[29]||(t[29]=o=>M.value=!1),onSaved:me},null,8,["show","clienteId","contacto"]),R(Ae,{modelValue:_.show,"onUpdate:modelValue":t[30]||(t[30]=o=>_.show=o),x:_.x,y:_.y,actions:_.actions,onClose:t[31]||(t[31]=o=>_.show=!1)},null,8,["modelValue","x","y","actions"])]))}};export{Jo as default};
