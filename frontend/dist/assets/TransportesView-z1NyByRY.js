import{M as be,l as ve,y as pe,m as $,r as v,w as Q,o as fe,p as xe,c as a,b as t,d as f,q as we,i as d,v as x,n as r,F as U,g as D,e as C,t as u,h as E,j as X,B as J,_ as ge,x as me,k as i}from"./index-Dcx7StCk.js";const he={class:"flex h-screen w-full bg-[#1f1605] text-gray-200 overflow-hidden font-sans"},ke={class:"flex flex-1 flex-col relative min-w-0"},ye={class:"relative z-20 flex h-16 items-center justify-between border-b border-amber-900/30 bg-amber-900/10 px-6 backdrop-blur-sm shrink-0"},_e={class:"flex items-center gap-4 ml-4"},Ce={class:"relative hidden sm:block"},Ee={class:"flex bg-white/5 rounded-lg p-1 border border-white/10"},Se={class:"relative"},Ne={key:0,class:"text-xs font-mono text-orange-400"},Te={key:1,class:"text-xs font-mono text-orange-400"},$e={key:2,class:"text-xs font-mono text-orange-400"},Ae={key:3,class:"text-xs font-mono text-orange-400"},Ve={key:4,class:"text-xs font-mono text-orange-400"},je={key:0,class:"absolute right-0 mt-2 w-48 bg-[#0a253a] border border-white/10 rounded-lg shadow-xl z-50"},Ue={class:"relative z-50 py-1"},De={class:"flex bg-white/5 rounded-lg p-1 border border-white/10"},Pe={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-700"},Me={key:0,class:"flex items-center justify-center h-full"},Ie={key:1,class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 relative"},qe=["onClick","onMouseenter"],ze={class:"flex items-start justify-between"},Le={class:"flex items-center gap-3 overflow-hidden"},Re={class:"min-w-0"},Fe={key:0,class:"fas fa-dolly text-orange-400 ml-1",title:"Retira a Domicilio"},Oe=["onClick"],Be={key:0,class:"pt-2 mt-2 border-t border-white/10 text-xs text-white/60 animate-fade-in"},Ge={key:0,class:"mb-1 truncate"},We={class:"mt-4 pt-4 border-t border-white/5 flex justify-between items-center"},Ze=["title"],He={class:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},Ke=["onClick"],Qe=["onClick"],Xe={key:2,class:"flex flex-col gap-2"},Je=["onClick"],Ye={class:"flex items-center gap-4 flex-1 min-w-0"},et={class:"min-w-0 flex-1 grid grid-cols-1 sm:grid-cols-3 gap-4"},tt={class:"font-bold text-white truncate"},ot={class:"text-sm text-white/50 truncate hidden sm:block"},lt={class:"text-xs text-white/30 truncate hidden sm:block"},st={class:"flex items-center gap-4 ml-4"},at=["onClick"],it={class:"text-[10px] uppercase font-bold text-white/50 hidden sm:inline select-none"},rt={class:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity w-16 justify-end"},nt=["onClick"],dt=["onClick"],ut={class:"w-96 border-l border-amber-900/30 bg-[#140e03]/95 flex flex-col z-30 shadow-2xl overflow-hidden"},ct={key:0,class:"flex flex-col items-center justify-center h-full text-white/30 p-6 text-center"},bt={key:1,class:"flex flex-col h-full min-w-[24rem]"},vt={class:"p-6 pb-2"},pt={class:"flex justify-between items-center mb-4"},ft={class:"text-lg font-bold text-amber-500"},xt={class:"flex border-b border-white/10"},wt=["disabled"],gt={key:0,class:"flex-1 overflow-y-auto p-6 pt-2 space-y-4"},mt={class:"flex items-center justify-between bg-white/5 p-3 rounded-lg border border-white/10"},ht={class:"flex items-center gap-2"},kt={class:"grid grid-cols-2 gap-2"},yt={class:"bg-white/5 p-3 rounded border border-white/5 space-y-2"},_t={class:"flex items-center gap-2"},Ct={class:"flex items-center gap-2"},Et={key:1,class:"flex-1 overflow-y-auto p-6 pt-2 space-y-4"},St={key:0,class:"text-center py-4 text-white/50"},Nt={key:1,class:"space-y-3"},Tt={key:0,class:"text-center py-8 border-2 border-dashed border-white/10 rounded-lg"},$t={class:"flex justify-between items-start"},At={class:"font-bold text-white text-sm"},Vt={class:"text-xs text-white/50"},jt={key:0,class:"text-xs text-white/40 mt-1"},Ut={class:"flex gap-2"},Dt=["onClick"],Pt=["onClick"],Mt={class:"p-6 pt-0 border-t border-white/10 flex gap-3 mt-auto bg-[#140e03]"},It={key:0},qt={key:1},zt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4"},Lt={class:"bg-[#1f1605] border border-amber-900/50 rounded-xl shadow-2xl w-full max-w-md p-6 relative"},Rt={class:"text-lg font-bold text-white mb-4"},Ft={class:"space-y-3"},Ot={class:"grid grid-cols-2 gap-2"},Bt=["value"],Gt={class:"grid grid-cols-2 gap-2"},Wt={class:"flex justify-end gap-2 mt-6"},Zt=["disabled"],Ht={key:0},Xt={__name:"TransportesView",setup(Kt){const L=me(),w=be(),c=ve(),R=pe(),Y=$(()=>w.empresas),ee=$(()=>w.loading),F=$(()=>R.provincias),A=v(""),p=v(null),s=v(null),P=v(!1),O=v(!1),h=v("active"),S=v("grid"),k=v("general"),M=$(()=>w.nodos),I=v(!1),y=v(!1),N=v(null),T=v(!1),n=v({nombre_nodo:"",direccion_completa:"",localidad:"",provincia_id:"",telefono:"",email:"",es_punto_despacho:!1,es_punto_retiro:!1}),_=v(null);let q=null;const te=l=>{q=setTimeout(()=>{_.value=l},1e3)},oe=()=>{q&&clearTimeout(q),_.value=null},le=l=>{if(!l)return"";const e=F.value.find(o=>o.id===l);return e?e.nombre:l},se=async()=>{!p.value||p.value==="new"||(I.value=!0,await w.fetchNodos(p.value),I.value=!1)};Q(k,l=>{l==="sedes"&&se()}),Q(p,()=>{k.value="general"}),fe(async()=>{await w.fetchEmpresas("all"),await R.fetchProvincias(),window.addEventListener("keydown",K)}),xe(()=>{window.removeEventListener("keydown",K)});const b=v("alpha_asc"),m=v(!1),B=$(()=>{let l=Y.value;if(h.value==="active"?l=l.filter(e=>e.activo):h.value==="inactive"&&(l=l.filter(e=>!e.activo)),A.value){const e=A.value.toLowerCase();l=l.filter(o=>o.nombre.toLowerCase().includes(e))}return l.sort((e,o)=>{switch(b.value){case"alpha_asc":return e.nombre.localeCompare(o.nombre);case"alpha_desc":return o.nombre.localeCompare(e.nombre);case"id_asc":return String(e.id).localeCompare(String(o.id));case"id_desc":return String(o.id).localeCompare(String(e.id));case"usage":return(o.contador_uso||0)-(e.contador_uso||0);default:return 0}})}),V=l=>{p.value=l.id,s.value={...l}},ae=()=>{p.value="new",s.value={id:null,nombre:"",telefono_reclamos:"",web_tracking:"",direccion:"",whatsapp:"",email:"",observaciones:"",activo:!0,requiere_carga_web:!1,servicio_retiro_domicilio:!1,formato_etiqueta:"PROPIA"}},j=()=>{p.value=null,s.value=null},G=async()=>{if(!s.value.nombre){c.add("El nombre es obligatorio","error");return}P.value=!0;try{p.value==="new"?(await w.createEmpresa(s.value),c.add("Transporte creado","success")):(await w.updateEmpresa(s.value.id,s.value),c.add("Transporte actualizado","success")),j()}catch(l){c.add("Error al guardar","error"),console.error(l)}finally{P.value=!1}},W=async()=>{if(confirm("¿Seguro que desea dar de baja este transporte?"))try{await w.updateEmpresa(s.value.id,{...s.value,activo:!1}),c.add("Transporte dado de baja","success"),j()}catch{c.add("Error al eliminar","error")}},z=async l=>{if(confirm(`¿Seguro que desea dar de baja a ${l.nombre}?`))try{await w.updateEmpresa(l.id,{...l,activo:!1}),c.add("Transporte dado de baja","success")}catch{c.add("Error al eliminar","error")}},Z=async l=>{if(l.activo)await z(l);else try{await w.updateEmpresa(l.id,{...l,activo:!0}),c.add("Transporte activado","success")}catch{c.add("Error al activar","error")}},ie=()=>{s.value.activo?W():s.value.activo=!0},H=()=>{N.value=null,n.value={nombre_nodo:"",direccion_completa:"",localidad:"",provincia_id:"",telefono:"",email:"",es_punto_despacho:!1,es_punto_retiro:!1},y.value=!0},re=l=>{N.value=l,n.value={...l},y.value=!0},ne=async()=>{if(!n.value.nombre_nodo||!n.value.provincia_id){c.add("Nombre y Provincia son obligatorios","error");return}T.value=!0;try{if(N.value)await w.updateNodo(N.value.id,n.value),c.add("Sede actualizada","success");else{const l={...n.value,empresa_id:p.value};await w.createNodo(l),c.add("Sede creada","success")}y.value=!1}catch(l){console.error("Error in saveNodo:",l);const e=l.response&&l.response.status===409;c.add(e?"Error de integridad (posible duplicado)":"Error al guardar sede","error")}finally{T.value=!1}},de=async l=>{if(confirm(`¿Eliminar sede ${l.nombre_nodo}?`))try{c.add("Función Eliminar Sede pendiente de implementación en Store","warning")}catch{c.add("Error al eliminar","error")}},ue=l=>{l.name==="Logout"?ce():L.push(l)},ce=()=>{confirm("¿Desea cerrar sesión?")&&(localStorage.removeItem("token"),L.push("/login"))},K=l=>{l.key==="F10"&&s.value&&(l.preventDefault(),G()),l.key==="Escape"&&(y.value?(y.value=!1,l.preventDefault()):s.value&&(l.preventDefault(),j()))};return(l,e)=>(i(),a("div",he,[t("main",ke,[t("header",ye,[e[43]||(e[43]=t("div",{class:"flex items-center gap-4"},[t("h1",{class:"font-outfit text-xl font-semibold text-white truncate"}," Gestión de Logística ")],-1)),t("div",_e,[t("div",Ce,[e[33]||(e[33]=t("i",{class:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"},null,-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>A.value=o),type:"text",placeholder:"Buscar transporte...",class:"h-9 w-48 lg:w-64 rounded-full border border-gray-700 bg-gray-800 pl-10 pr-4 text-sm text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-500 transition-all"},null,512),[[x,A.value]])]),e[40]||(e[40]=t("div",{class:"h-6 w-px bg-white/10 hidden sm:block"},null,-1)),t("div",Ee,[t("button",{onClick:e[1]||(e[1]=o=>h.value="all"),class:r(["px-3 py-1 text-xs font-bold rounded-md transition-all",h.value==="all"?"bg-indigo-600/70 text-white shadow-md ring-1 ring-indigo-500":"text-white/40 hover:text-white hover:bg-white/5"]),title:"Todos"}," Todos ",2),t("button",{onClick:e[2]||(e[2]=o=>h.value="active"),class:r(["px-3 py-1 text-xs font-bold rounded-md transition-all",h.value==="active"?"bg-green-600/70 text-white shadow-md ring-1 ring-green-500":"text-white/40 hover:text-white hover:bg-white/5"]),title:"Activos"}," Activos ",2),t("button",{onClick:e[3]||(e[3]=o=>h.value="inactive"),class:r(["px-3 py-1 text-xs font-bold rounded-md transition-all",h.value==="inactive"?"bg-red-600/70 text-white shadow-md ring-1 ring-red-500":"text-white/40 hover:text-white hover:bg-white/5"]),title:"Inactivos"}," Inactivos ",2)]),e[41]||(e[41]=t("div",{class:"h-6 w-px bg-white/10"},null,-1)),t("div",Se,[t("button",{onClick:e[4]||(e[4]=o=>m.value=!m.value),class:"text-white/70 hover:text-white transition-colors flex items-center gap-2",title:"Ordenar"},[e[34]||(e[34]=t("i",{class:"fas fa-sort-amount-down"},null,-1)),b.value==="usage"?(i(),a("span",Ne,"POPULARIDAD")):b.value==="alpha_asc"?(i(),a("span",Te,"A-Z")):b.value==="alpha_desc"?(i(),a("span",$e,"Z-A")):b.value==="id_asc"?(i(),a("span",Ae,"ANTIGUEDAD")):b.value==="id_desc"?(i(),a("span",Ve,"RECIENTES")):f("",!0)]),m.value?(i(),a("div",je,[t("div",{class:"fixed inset-0 z-40",onClick:e[5]||(e[5]=o=>m.value=!1)}),t("div",Ue,[t("button",{onClick:e[6]||(e[6]=o=>{b.value="usage",m.value=!1}),class:r(["block w-full text-left px-4 py-2 text-sm text-white hover:bg-white/10",{"text-orange-400 font-bold":b.value==="usage"}])},"Más Usados (Popularidad)",2),e[35]||(e[35]=t("div",{class:"border-t border-white/10 my-1"},null,-1)),t("button",{onClick:e[7]||(e[7]=o=>{b.value="alpha_asc",m.value=!1}),class:r(["block w-full text-left px-4 py-2 text-sm text-white hover:bg-white/10",{"text-orange-400 font-bold":b.value==="alpha_asc"}])},"A-Z Alfabético",2),t("button",{onClick:e[8]||(e[8]=o=>{b.value="alpha_desc",m.value=!1}),class:r(["block w-full text-left px-4 py-2 text-sm text-white hover:bg-white/10",{"text-orange-400 font-bold":b.value==="alpha_desc"}])},"Z-A Alfabético",2),e[36]||(e[36]=t("div",{class:"border-t border-white/10 my-1"},null,-1)),t("button",{onClick:e[9]||(e[9]=o=>{b.value="id_asc",m.value=!1}),class:r(["block w-full text-left px-4 py-2 text-sm text-white hover:bg-white/10",{"text-orange-400 font-bold":b.value==="id_asc"}])},"Más Antiguos",2),t("button",{onClick:e[10]||(e[10]=o=>{b.value="id_desc",m.value=!1}),class:r(["block w-full text-left px-4 py-2 text-sm text-white hover:bg-white/10",{"text-orange-400 font-bold":b.value==="id_desc"}])},"Más Recientes",2)])])):f("",!0)]),e[42]||(e[42]=t("div",{class:"h-6 w-px bg-white/10"},null,-1)),t("div",De,[t("button",{onClick:e[11]||(e[11]=o=>S.value="grid"),class:r(["p-1.5 rounded-md transition-all",S.value==="grid"?"bg-white/10 text-orange-400":"text-white/30 hover:text-white"]),title:"Vista Cuadrícula"},[...e[37]||(e[37]=[t("i",{class:"fas fa-border-all"},null,-1)])],2),t("button",{onClick:e[12]||(e[12]=o=>S.value="list"),class:r(["p-1.5 rounded-md transition-all",S.value==="list"?"bg-white/10 text-orange-400":"text-white/30 hover:text-white"]),title:"Vista Lista"},[...e[38]||(e[38]=[t("i",{class:"fas fa-list"},null,-1)])],2)]),t("button",{onClick:ae,class:"flex items-center gap-2 rounded-lg bg-orange-600 px-3 py-1.5 text-sm font-bold text-white shadow-lg shadow-orange-500/20 transition-all hover:bg-orange-500 hover:shadow-orange-500/40 whitespace-nowrap ml-2"},[...e[39]||(e[39]=[t("i",{class:"fas fa-plus"},null,-1),t("span",{class:"hidden sm:inline"},"Nuevo",-1)])])])]),t("div",Pe,[ee.value?(i(),a("div",Me,[...e[44]||(e[44]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"},null,-1)])])):S.value==="grid"?(i(),a("div",Ie,[(i(!0),a(U,null,D(B.value,o=>(i(),a("div",{key:o.id,class:"relative w-full min-h-[160px]"},[t("div",{onClick:g=>V(o),onMouseenter:g=>te(o.id),onMouseleave:oe,class:r(["group flex flex-col justify-between rounded-xl border border-white/5 p-4 transition-all duration-300 cursor-pointer w-full",[{"ring-2 ring-orange-500 bg-white/10":p.value===o.id},_.value===o.id?"absolute top-0 left-0 z-50 scale-110 bg-gray-900 shadow-2xl shadow-black/50 h-auto min-h-[160px] border-orange-500":"relative h-full bg-white/5 hover:bg-white/10 hover:shadow-xl hover:shadow-orange-900/20"]])},[t("div",ze,[t("div",Le,[e[46]||(e[46]=t("div",{class:"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center text-white shadow-lg shrink-0"},[t("i",{class:"fas fa-truck"})],-1)),t("div",Re,[t("h3",{class:r(["font-bold text-white leading-tight group-hover:text-orange-300 transition-colors",{truncate:_.value!==o.id}])},[C(u(o.nombre)+" ",1),o.servicio_retiro_domicilio?(i(),a("i",Fe)):f("",!0)],2),t("p",{class:r(["text-xs text-white/50",{truncate:_.value!==o.id}])},[e[45]||(e[45]=t("i",{class:"fab fa-whatsapp text-green-400 mr-1"},null,-1)),C(u(o.whatsapp||"Sin WhatsApp"),1)],2)])]),t("div",{class:"flex items-center gap-2 bg-black/20 px-2 py-1 rounded-full border border-white/5 cursor-pointer hover:bg-white/10 transition-colors ml-2",onClick:E(g=>Z(o),["stop"]),title:"Click para cambiar estado"},[t("div",{class:r(["relative inline-flex h-4 w-7 items-center rounded-full transition-colors shrink-0",o.activo?"bg-green-500/50":"bg-red-500/50"])},[t("span",{class:r(["inline-block h-2.5 w-2.5 transform rounded-full bg-white transition-transform shadow-sm",o.activo?"translate-x-3.5":"translate-x-1"])},null,2)],2)],8,Oe)]),_.value===o.id?(i(),a("div",Be,[o.web_tracking?(i(),a("p",Ge,[e[47]||(e[47]=t("i",{class:"fas fa-globe mr-1"},null,-1)),C(u(o.web_tracking),1)])):f("",!0),e[48]||(e[48]=t("p",{class:"text-orange-400"},"Click para editar",-1))])):f("",!0),t("div",We,[t("span",{class:"text-[10px] uppercase font-bold text-white/30 tracking-wider truncate max-w-[100px]",title:o.id},"ID: "+u(o.id.split("-")[0])+"...",9,Ze),t("div",He,[t("button",{onClick:E(g=>V(o),["stop"]),class:"text-white/50 hover:text-white",title:"Editar"},[...e[49]||(e[49]=[t("i",{class:"fas fa-pencil-alt"},null,-1)])],8,Ke),o.activo?(i(),a("button",{key:0,onClick:E(g=>z(o),["stop"]),class:"text-red-400/50 hover:text-red-400",title:"Dar de baja"},[...e[50]||(e[50]=[t("i",{class:"fas fa-trash"},null,-1)])],8,Qe)):f("",!0)])])],42,qe)]))),128))])):(i(),a("div",Xe,[(i(!0),a(U,null,D(B.value,o=>(i(),a("div",{key:o.id,onClick:g=>V(o),class:r(["group flex items-center justify-between p-3 rounded-lg border border-white/5 bg-white/5 hover:bg-white/10 cursor-pointer transition-colors",{"ring-1 ring-orange-500 bg-white/10":p.value===o.id}])},[t("div",Ye,[e[52]||(e[52]=t("div",{class:"h-8 w-8 rounded bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center text-white shrink-0 text-xs"},[t("i",{class:"fas fa-truck"})],-1)),t("div",et,[t("h3",tt,u(o.nombre),1),t("p",ot,[e[51]||(e[51]=t("i",{class:"fab fa-whatsapp text-green-400 mr-1"},null,-1)),C(u(o.whatsapp||"---"),1)]),t("p",lt,u(o.direccion||"Sin direccion"),1)])]),t("div",st,[t("div",{class:"flex items-center gap-2 bg-black/20 px-2 py-1 rounded-full border border-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:E(g=>Z(o),["stop"]),title:"Click para cambiar estado"},[t("div",{class:r(["relative inline-flex h-4 w-7 items-center rounded-full transition-colors shrink-0",o.activo?"bg-green-500/50":"bg-red-500/50"])},[t("span",{class:r(["inline-block h-2.5 w-2.5 transform rounded-full bg-white transition-transform shadow-sm",o.activo?"translate-x-3.5":"translate-x-1"])},null,2)],2),t("span",it,u(o.activo?"Activo":"Inactivo"),1)],8,at),t("div",rt,[t("button",{onClick:E(g=>V(o),["stop"]),class:"text-white/50 hover:text-white",title:"Editar"},[...e[53]||(e[53]=[t("i",{class:"fas fa-pencil-alt"},null,-1)])],8,nt),o.activo?(i(),a("button",{key:0,onClick:E(g=>z(o),["stop"]),class:"text-red-400/50 hover:text-red-400",title:"Dar de baja"},[...e[54]||(e[54]=[t("i",{class:"fas fa-trash"},null,-1)])],8,dt)):f("",!0)])])],10,Je))),128))]))])]),t("aside",ut,[s.value?(i(),a("div",bt,[t("div",vt,[t("div",pt,[t("h2",ft,u(p.value==="new"?"Nuevo Transporte":"Editar Transporte"),1),t("button",{onClick:j,class:"text-white/40 hover:text-white transition-colors"},[...e[56]||(e[56]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("div",xt,[t("button",{onClick:e[13]||(e[13]=o=>k.value="general"),class:r(["flex-1 pb-2 text-sm font-bold transition-colors border-b-2",k.value==="general"?"border-amber-500 text-amber-500":"border-transparent text-white/40 hover:text-white"])}," General ",2),t("button",{onClick:e[14]||(e[14]=o=>k.value="sedes"),class:r(["flex-1 pb-2 text-sm font-bold transition-colors border-b-2",k.value==="sedes"?"border-amber-500 text-amber-500":"border-transparent text-white/40 hover:text-white"]),disabled:p.value==="new"}," Sedes ",10,wt)])]),k.value==="general"?(i(),a("div",gt,[t("div",mt,[e[57]||(e[57]=t("span",{class:"text-sm font-bold text-white"},"Estado",-1)),t("div",ht,[t("span",{class:r(["text-[10px] font-bold uppercase",s.value.activo?"text-green-400":"text-red-400"])},u(s.value.activo?"ACTIVO":"INACTIVO"),3),t("button",{onClick:ie,class:r(["relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none",s.value.activo?"bg-green-500/50":"bg-red-500/50"])},[t("span",{class:r(["inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform shadow-sm",s.value.activo?"translate-x-4.5":"translate-x-1"])},null,2)],2)])]),t("div",null,[e[58]||(e[58]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Nombre *",-1)),d(t("input",{"onUpdate:modelValue":e[15]||(e[15]=o=>s.value.nombre=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none transition-colors",placeholder:"Ej: Via Cargo"},null,512),[[x,s.value.nombre]])]),t("div",null,[e[59]||(e[59]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Dirección Sede Central",-1)),d(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>s.value.direccion=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none transition-colors",placeholder:"Av. Principal 1234"},null,512),[[x,s.value.direccion]])]),t("div",kt,[t("div",null,[e[60]||(e[60]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"WhatsApp (Prioridad)",-1)),d(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>s.value.whatsapp=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none transition-colors",placeholder:"+54 9..."},null,512),[[x,s.value.whatsapp]])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Tel. Reclamos",-1)),d(t("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>s.value.telefono_reclamos=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none transition-colors",placeholder:"0800..."},null,512),[[x,s.value.telefono_reclamos]])])]),t("div",null,[e[62]||(e[62]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Email",-1)),d(t("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>s.value.email=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none transition-colors",placeholder:"operaciones@..."},null,512),[[x,s.value.email]])]),t("div",null,[e[63]||(e[63]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Observaciones",-1)),d(t("textarea",{"onUpdate:modelValue":e[20]||(e[20]=o=>s.value.observaciones=o),rows:"2",class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none transition-colors resize-none",placeholder:"Horarios, requisitos, etc..."},null,512),[[x,s.value.observaciones]])]),t("div",null,[e[64]||(e[64]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Web Tracking",-1)),d(t("input",{"onUpdate:modelValue":e[21]||(e[21]=o=>s.value.web_tracking=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none transition-colors",placeholder:"https://..."},null,512),[[x,s.value.web_tracking]])]),t("div",yt,[t("div",_t,[d(t("input",{type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=o=>s.value.servicio_retiro_domicilio=o),id:"pickupCheck",class:"accent-orange-500 h-4 w-4"},null,512),[[X,s.value.servicio_retiro_domicilio]]),e[65]||(e[65]=t("label",{for:"pickupCheck",class:"text-sm text-white cursor-pointer select-none font-bold"},"Acepta retiros por domicilio",-1))]),t("div",Ct,[d(t("input",{type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=o=>s.value.requiere_carga_web=o),id:"webCheck",class:"accent-orange-500 h-4 w-4"},null,512),[[X,s.value.requiere_carga_web]]),e[66]||(e[66]=t("label",{for:"webCheck",class:"text-sm text-white/70 cursor-pointer select-none"},"Requiere Carga Web (Obligatorio)",-1))])]),t("div",null,[e[68]||(e[68]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Formato Etiqueta",-1)),d(t("select",{"onUpdate:modelValue":e[24]||(e[24]=o=>s.value.formato_etiqueta=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none transition-colors"},[...e[67]||(e[67]=[t("option",{value:"PROPIA",class:"bg-[#140e03] text-white"},"Propia",-1),t("option",{value:"EXTERNA_PDF",class:"bg-[#140e03] text-white"},"Externa (PDF)",-1)])],512),[[J,s.value.formato_etiqueta]])])])):k.value==="sedes"?(i(),a("div",Et,[I.value?(i(),a("div",St,[...e[69]||(e[69]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),C(" Cargando sedes... ",-1)])])):(i(),a("div",Nt,[M.value.length===0?(i(),a("div",Tt,[e[70]||(e[70]=t("p",{class:"text-white/40 text-sm mb-2"},"No hay sucursales cargadas.",-1)),t("button",{onClick:H,class:"text-orange-400 hover:text-orange-300 text-xs font-bold uppercase tracking-wide"}," + Agregar Primera Sede ")])):f("",!0),(i(!0),a(U,null,D(M.value,o=>(i(),a("div",{key:o.id,class:"bg-white/5 border border-white/10 p-3 rounded hover:bg-white/10 transition-colors group relative"},[t("div",$t,[t("div",null,[t("h4",At,u(o.nombre_nodo),1),t("p",Vt,u(le(o.provincia_id))+" - "+u(o.localidad||"Sin localidad"),1),o.direccion_completa?(i(),a("p",jt,u(o.direccion_completa),1)):f("",!0)]),t("div",Ut,[t("button",{onClick:g=>re(o),class:"text-white/30 hover:text-white"},[...e[71]||(e[71]=[t("i",{class:"fas fa-pencil-alt text-xs"},null,-1)])],8,Dt),t("button",{onClick:g=>de(o),class:"text-white/30 hover:text-red-400"},[...e[72]||(e[72]=[t("i",{class:"fas fa-trash text-xs"},null,-1)])],8,Pt)])])]))),128)),M.value.length>0?(i(),a("button",{key:1,onClick:H,class:"w-full py-2 border-2 border-dashed border-white/10 rounded text-white/40 hover:text-orange-400 hover:border-orange-400/30 transition-colors text-sm font-bold uppercase"}," + Agregar Sede ")):f("",!0)]))])):f("",!0),t("div",Mt,[t("button",{onClick:G,class:"flex-1 bg-orange-600 hover:bg-orange-500 text-white py-2 rounded font-bold transition-colors shadow-lg shadow-orange-900/20"},[P.value?(i(),a("span",It,[...e[73]||(e[73]=[t("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),C("Guardando...",-1)])])):(i(),a("span",qt,"Guardar (F10)"))]),p.value!=="new"?(i(),a("button",{key:0,onClick:W,class:"px-3 bg-red-900/20 hover:bg-red-900/40 text-red-400 rounded border border-red-500/30 transition-colors",title:"Dar de baja"},[...e[74]||(e[74]=[t("i",{class:"fas fa-trash"},null,-1)])])):f("",!0)])])):(i(),a("div",ct,[...e[55]||(e[55]=[t("i",{class:"fas fa-truck text-4xl mb-4"},null,-1),t("p",null,"Seleccione un transporte para ver sus detalles",-1)])]))]),y.value?(i(),a("div",zt,[t("div",Lt,[t("h3",Rt,u(N.value?"Editar Sede":"Nueva Sede"),1),t("div",Ft,[t("div",null,[e[75]||(e[75]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Nombre Sede *",-1)),d(t("input",{"onUpdate:modelValue":e[25]||(e[25]=o=>n.value.nombre_nodo=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none",placeholder:"Ej: Depósito Pompeya"},null,512),[[x,n.value.nombre_nodo]])]),t("div",null,[e[76]||(e[76]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Dirección",-1)),d(t("input",{"onUpdate:modelValue":e[26]||(e[26]=o=>n.value.direccion_completa=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none",placeholder:"Av. Saenz 1234"},null,512),[[x,n.value.direccion_completa]])]),t("div",Ot,[t("div",null,[e[77]||(e[77]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Localidad",-1)),d(t("input",{"onUpdate:modelValue":e[27]||(e[27]=o=>n.value.localidad=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none",placeholder:"CABA"},null,512),[[x,n.value.localidad]])]),t("div",null,[e[79]||(e[79]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Provincia *",-1)),d(t("select",{"onUpdate:modelValue":e[28]||(e[28]=o=>n.value.provincia_id=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none"},[e[78]||(e[78]=t("option",{value:"",disabled:"",class:"bg-[#140e03] text-white/50"},"Seleccionar...",-1)),(i(!0),a(U,null,D(F.value,o=>(i(),a("option",{key:o.id,value:o.id,class:"bg-[#140e03] text-white"},u(o.nombre),9,Bt))),128))],512),[[J,n.value.provincia_id]])])]),t("div",Gt,[t("div",null,[e[80]||(e[80]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Teléfono",-1)),d(t("input",{"onUpdate:modelValue":e[29]||(e[29]=o=>n.value.telefono=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none"},null,512),[[x,n.value.telefono]])]),t("div",null,[e[81]||(e[81]=t("label",{class:"block text-xs font-bold uppercase text-white/40 mb-1"},"Email",-1)),d(t("input",{"onUpdate:modelValue":e[30]||(e[30]=o=>n.value.email=o),class:"w-full bg-black/20 border border-white/10 rounded p-2 text-white focus:border-orange-400 outline-none"},null,512),[[x,n.value.email]])])])]),t("div",Wt,[t("button",{onClick:e[31]||(e[31]=o=>y.value=!1),class:"px-4 py-2 text-white/60 hover:text-white font-bold text-sm"},"Cancelar"),t("button",{onClick:ne,class:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded font-bold text-sm shadow-lg flex items-center gap-2",disabled:T.value},[T.value?(i(),a("span",Ht,[...e[82]||(e[82]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1)])])):f("",!0),t("span",null,u(T.value?"Guardando...":"Guardar"),1)],8,Zt)])])])):f("",!0),we(ge,{show:O.value,onClose:e[32]||(e[32]=o=>O.value=!1),onNavigate:ue},null,8,["show"])]))}};export{Xt as default};
